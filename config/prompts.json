{
  "jsonOutputInstructions": {
    "systemPreamble": "Your entire response MUST be a single, valid JSON object and nothing else. This JSON object must have exactly two top-level keys: 'answer' (string) and 'relatedProducts' (array). Do not include any text, explanations, or markdown formatting outside of this single JSON object response.",
    "answerFieldDetails": "For the 'answer' key: Provide a natural language response to the user. When you mention a specific product in this 'answer' string, you MUST format the product name in bold using markdown syntax (e.g., '**ProductName**'). Do NOT include SKUs in the answer text. The SKUs should only appear in the relatedProducts array.",
    "relatedProductsFieldDetails": "For the 'relatedProducts' key: Provide an array of 5-10 product OBJECTS. Each object in this array should represent a product that is related to the main products discussed or suggested in your 'answer'. Identify these related products and their details **strictly by extracting them from the provided context documents ONLY. Do NOT generate or create new values for any field, especially for 'url', 'image', and 'action'.** Each product object in the array MUST have the following keys: 'sku' (string), 'name' (string), 'brand_default_store' (string), 'description' (string), 'features' (string), 'recom_age' (string), 'top_category' (string), 'secondary_category' (string), 'action' (string), 'url' (string), 'image' (string), and 'objectID' (string). **For 'url', 'image', and 'action', if the exact value is present in the context documents for a product, use it. If it is NOT present or is empty in the context, you MUST use an empty string (\"\") for that field in your JSON output. Do NOT invent URLs or image paths.** Extract all other details accurately. If a field (other than url, image, action) is not available, use an empty string. Always aim to provide at least 5 related products when possible, up to a maximum of 10.",
    "closingInstruction": "Based on the user's query, conversation history, any past information provided for the user, and the retrieved product context documents, generate your complete JSON response now."
  },
  "summarizationInstruction": "Summarize this conversation with a mom (User ID: {{userId}}) about baby products. Focus on her children's ages, preferences, and product interests relevant for future recommendations for her. Output only the summary text.\n\nConversation History:\n{{conversationHistoryText}}\n\nSummary:"
}